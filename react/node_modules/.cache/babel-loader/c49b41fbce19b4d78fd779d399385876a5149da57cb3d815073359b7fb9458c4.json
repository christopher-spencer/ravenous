{"ast":null,"code":"const yelpApiKey=process.env.YELP_API_KEY;const Yelp={search(searchTerm,location,sortBy){const apiKey=process.env.YELP_API_KEY;if(!apiKey){throw new Error('YELP_API_KEY environment variable is missing.');}return fetch(\"https://cors-anywhere.herokuapp.com/https://api.yelp.com/v3/businesses/search?term=\".concat(searchTerm,\"&location=\").concat(location,\"&sort_by=\").concat(sortBy),{headers:{Authorization:\"Bearer \".concat(apiKey)}}).then(response=>{if(!response.ok){throw new Error('Network response was not ok.');}return response.json();}).then(jsonResponse=>{if(jsonResponse.businesses){return jsonResponse.businesses.map(business=>({id:business.id,imageSrc:business.image_url,name:business.name,address:business.location.address1,city:business.location.city,state:business.location.state,zipCode:business.location.zip_code,category:business.categories[0].title,rating:business.rating,reviewCount:business.review_count}));}else{throw new Error('Unexpected response from Yelp API.');}}).catch(error=>{console.error('Error fetching data from Yelp API:',error);throw error;// Rethrow the error to be caught by the caller\n});}};export default Yelp;","map":{"version":3,"names":["yelpApiKey","process","env","YELP_API_KEY","Yelp","search","searchTerm","location","sortBy","apiKey","Error","fetch","concat","headers","Authorization","then","response","ok","json","jsonResponse","businesses","map","business","id","imageSrc","image_url","name","address","address1","city","state","zipCode","zip_code","category","categories","title","rating","reviewCount","review_count","catch","error","console"],"sources":["/Users/christopherspencer/Source/Repos/ravenous/src/utils/Yelp.js"],"sourcesContent":["const yelpApiKey = process.env.YELP_API_KEY;\n\nconst Yelp = {\n    search(searchTerm, location, sortBy) {\n        const apiKey = process.env.YELP_API_KEY;\n\n        if (!apiKey) {\n            throw new Error('YELP_API_KEY environment variable is missing.');\n        }\n\n        return fetch(\n            `https://cors-anywhere.herokuapp.com/https://api.yelp.com/v3/businesses/search?term=${searchTerm}&location=${location}&sort_by=${sortBy}`,\n            {\n                headers: {\n                    Authorization: `Bearer ${apiKey}`\n                }\n            }\n        )\n        .then((response) => {\n            if (!response.ok) {\n                throw new Error('Network response was not ok.');\n            }\n            return response.json();\n        })\n        .then((jsonResponse) => {\n            if (jsonResponse.businesses) {\n                return jsonResponse.businesses.map((business) => ({\n                    id: business.id,\n                    imageSrc: business.image_url,\n                    name: business.name,\n                    address: business.location.address1,\n                    city: business.location.city,\n                    state: business.location.state,\n                    zipCode: business.location.zip_code,\n                    category: business.categories[0].title,\n                    rating: business.rating,\n                    reviewCount: business.review_count\n                }));\n            } else {\n                throw new Error('Unexpected response from Yelp API.');\n            }\n        })\n        .catch((error) => {\n            console.error('Error fetching data from Yelp API:', error);\n            throw error; // Rethrow the error to be caught by the caller\n        });\n    }\n};\n\nexport default Yelp;"],"mappings":"AAAA,KAAM,CAAAA,UAAU,CAAGC,OAAO,CAACC,GAAG,CAACC,YAAY,CAE3C,KAAM,CAAAC,IAAI,CAAG,CACTC,MAAMA,CAACC,UAAU,CAAEC,QAAQ,CAAEC,MAAM,CAAE,CACjC,KAAM,CAAAC,MAAM,CAAGR,OAAO,CAACC,GAAG,CAACC,YAAY,CAEvC,GAAI,CAACM,MAAM,CAAE,CACT,KAAM,IAAI,CAAAC,KAAK,CAAC,+CAA+C,CAAC,CACpE,CAEA,MAAO,CAAAC,KAAK,uFAAAC,MAAA,CAC8EN,UAAU,eAAAM,MAAA,CAAaL,QAAQ,cAAAK,MAAA,CAAYJ,MAAM,EACvI,CACIK,OAAO,CAAE,CACLC,aAAa,WAAAF,MAAA,CAAYH,MAAM,CACnC,CACJ,CACJ,CAAC,CACAM,IAAI,CAAEC,QAAQ,EAAK,CAChB,GAAI,CAACA,QAAQ,CAACC,EAAE,CAAE,CACd,KAAM,IAAI,CAAAP,KAAK,CAAC,8BAA8B,CAAC,CACnD,CACA,MAAO,CAAAM,QAAQ,CAACE,IAAI,CAAC,CAAC,CAC1B,CAAC,CAAC,CACDH,IAAI,CAAEI,YAAY,EAAK,CACpB,GAAIA,YAAY,CAACC,UAAU,CAAE,CACzB,MAAO,CAAAD,YAAY,CAACC,UAAU,CAACC,GAAG,CAAEC,QAAQ,GAAM,CAC9CC,EAAE,CAAED,QAAQ,CAACC,EAAE,CACfC,QAAQ,CAAEF,QAAQ,CAACG,SAAS,CAC5BC,IAAI,CAAEJ,QAAQ,CAACI,IAAI,CACnBC,OAAO,CAAEL,QAAQ,CAACf,QAAQ,CAACqB,QAAQ,CACnCC,IAAI,CAAEP,QAAQ,CAACf,QAAQ,CAACsB,IAAI,CAC5BC,KAAK,CAAER,QAAQ,CAACf,QAAQ,CAACuB,KAAK,CAC9BC,OAAO,CAAET,QAAQ,CAACf,QAAQ,CAACyB,QAAQ,CACnCC,QAAQ,CAAEX,QAAQ,CAACY,UAAU,CAAC,CAAC,CAAC,CAACC,KAAK,CACtCC,MAAM,CAAEd,QAAQ,CAACc,MAAM,CACvBC,WAAW,CAAEf,QAAQ,CAACgB,YAC1B,CAAC,CAAC,CAAC,CACP,CAAC,IAAM,CACH,KAAM,IAAI,CAAA5B,KAAK,CAAC,oCAAoC,CAAC,CACzD,CACJ,CAAC,CAAC,CACD6B,KAAK,CAAEC,KAAK,EAAK,CACdC,OAAO,CAACD,KAAK,CAAC,oCAAoC,CAAEA,KAAK,CAAC,CAC1D,KAAM,CAAAA,KAAK,CAAE;AACjB,CAAC,CAAC,CACN,CACJ,CAAC,CAED,cAAe,CAAApC,IAAI","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}