{"ast":null,"code":"//const apiKey = process.env.YELP_API_KEY;\n\nexport default async function yelp(searchTerm, location, sortOption) {\n  const apiKey = process.env.YELP_API_KEY;\n  // const baseUrl = `https://cors-anywhere.herokuapp.com/https://api.yelp.com/v3/businesses/search`;\n  // const url = `${baseUrl}?location=${location}&term=${searchTerm}`;\n  // const urlWithSort = `${baseUrl}?location=${location}&term=${searchTerm}&sort_by=${sortOption}`;\n\n  const options = {\n    method: 'GET',\n    headers: {\n      'Access-Control-Allow-Origin': '*',\n      'Authorization': apiKey\n    }\n  };\n  try {\n    const response = await fetch(`https://cors-anywhere.herokuapp.com/https://api.yelp.com/v3/businesses/search?location=${location}&term=${searchTerm}&sort_by=${sortOption}`);\n    const data = await response.json();\n    if (data.businesses && Array.isArray(data.businesses) && data.businesses.length > 0) {\n      return data.businesses;\n    } else {\n      return [];\n    }\n  } catch (err) {\n    // Log and handle the error appropriately\n    console.error('Failed to fetch data from Yelp API:', err);\n    throw new Error('Failed to fetch data from Yelp API');\n  }\n}","map":{"version":3,"names":["yelp","searchTerm","location","sortOption","apiKey","process","env","YELP_API_KEY","options","method","headers","response","fetch","data","json","businesses","Array","isArray","length","err","console","error","Error"],"sources":["/Users/christopherspencer/Source/Repos/ravenous/src/utils/Yelp.js"],"sourcesContent":["//const apiKey = process.env.YELP_API_KEY;\n\nexport default async function yelp(searchTerm, location, sortOption) {\n    const apiKey = process.env.YELP_API_KEY;\n    // const baseUrl = `https://cors-anywhere.herokuapp.com/https://api.yelp.com/v3/businesses/search`;\n    // const url = `${baseUrl}?location=${location}&term=${searchTerm}`;\n    // const urlWithSort = `${baseUrl}?location=${location}&term=${searchTerm}&sort_by=${sortOption}`;\n  \n    const options = {\n      method: 'GET',\n      headers: {\n        'Access-Control-Allow-Origin': '*',\n        'Authorization': apiKey\n      },\n    };\n  \n    try {\n      const response = await fetch(`https://cors-anywhere.herokuapp.com/https://api.yelp.com/v3/businesses/search?location=${location}&term=${searchTerm}&sort_by=${sortOption}`);\n      const data = await response.json();\n      \n      if (data.businesses && Array.isArray(data.businesses) && data.businesses.length > 0) {\n        return data.businesses;\n      } else {\n        \n        return [];\n      }\n    } catch (err) {\n      // Log and handle the error appropriately\n      console.error('Failed to fetch data from Yelp API:', err);\n      throw new Error('Failed to fetch data from Yelp API');\n    }\n  }\n  "],"mappings":"AAAA;;AAEA,eAAe,eAAeA,IAAIA,CAACC,UAAU,EAAEC,QAAQ,EAAEC,UAAU,EAAE;EACjE,MAAMC,MAAM,GAAGC,OAAO,CAACC,GAAG,CAACC,YAAY;EACvC;EACA;EACA;;EAEA,MAAMC,OAAO,GAAG;IACdC,MAAM,EAAE,KAAK;IACbC,OAAO,EAAE;MACP,6BAA6B,EAAE,GAAG;MAClC,eAAe,EAAEN;IACnB;EACF,CAAC;EAED,IAAI;IACF,MAAMO,QAAQ,GAAG,MAAMC,KAAK,CAAE,0FAAyFV,QAAS,SAAQD,UAAW,YAAWE,UAAW,EAAC,CAAC;IAC3K,MAAMU,IAAI,GAAG,MAAMF,QAAQ,CAACG,IAAI,CAAC,CAAC;IAElC,IAAID,IAAI,CAACE,UAAU,IAAIC,KAAK,CAACC,OAAO,CAACJ,IAAI,CAACE,UAAU,CAAC,IAAIF,IAAI,CAACE,UAAU,CAACG,MAAM,GAAG,CAAC,EAAE;MACnF,OAAOL,IAAI,CAACE,UAAU;IACxB,CAAC,MAAM;MAEL,OAAO,EAAE;IACX;EACF,CAAC,CAAC,OAAOI,GAAG,EAAE;IACZ;IACAC,OAAO,CAACC,KAAK,CAAC,qCAAqC,EAAEF,GAAG,CAAC;IACzD,MAAM,IAAIG,KAAK,CAAC,oCAAoC,CAAC;EACvD;AACF","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}