{"ast":null,"code":"const apiKey = \"b7RJuDNmlM9_qAo_rkKRHEtPsIzf3h4lebmp41B5cfXmBHQmqc0qgwwtOJf8vo2bqYHFGbK5dRXDRqtXejS3t-cxf9rIDC8j-kvWkyNuV7zwMuj5nKe1g3tEKSrvZXYx\";\nconst yelpBaseUrl = 'https://api.yelp.com/v3';\nfunction search(term, location, sortBy) {\n  const corsOverride = 'https://cors-anywhere.herokuapp.com/'; //must go to https://cors-anywhere.herokuapp.com/corsdemo and request temporary access in order to use CORS Anywhere.\n  const searchEndpoint = '/businesses/search';\n  const queryParams = `?location=${location}&term=${term}&sort_by=${sortBy}&limit=18`;\n  const urlToFetch = corsOverride + yelpBaseUrl + searchEndpoint + queryParams;\n  return fetch(urlToFetch, {\n    headers: {\n      Authorization: `Bearer ${apiKey}`\n    }\n  }).then(response => {\n    if (response.ok) {\n      return response.json();\n    }\n    throw new Error('Request Failed!');\n  }, networkError => console.log(networkError.message)).then(jsonResponse => {\n    if (jsonResponse.businesses) {\n      return jsonResponse.businesses.map(business => ({\n        id: business.id,\n        imageSrc: business.image_url,\n        name: business.name,\n        address: business.location.address1,\n        city: business.location.city,\n        state: business.location.state,\n        zipCode: business.location.zip_code,\n        category: business.categories[0].title,\n        rating: business.rating,\n        reviewCount: business.review_count\n      }));\n    }\n  });\n}\nexport default search;","map":{"version":3,"names":["apiKey","yelpBaseUrl","search","term","location","sortBy","corsOverride","searchEndpoint","queryParams","urlToFetch","fetch","headers","Authorization","then","response","ok","json","Error","networkError","console","log","message","jsonResponse","businesses","map","business","id","imageSrc","image_url","name","address","address1","city","state","zipCode","zip_code","category","categories","title","rating","reviewCount","review_count"],"sources":["/Users/christopherspencer/Source/Repos/ravenous/src/utils/Yelp.js"],"sourcesContent":["const apiKey = \"b7RJuDNmlM9_qAo_rkKRHEtPsIzf3h4lebmp41B5cfXmBHQmqc0qgwwtOJf8vo2bqYHFGbK5dRXDRqtXejS3t-cxf9rIDC8j-kvWkyNuV7zwMuj5nKe1g3tEKSrvZXYx\";\n\nconst yelpBaseUrl = 'https://api.yelp.com/v3';\n\nfunction search(term, location, sortBy){\n    const corsOverride = 'https://cors-anywhere.herokuapp.com/' //must go to https://cors-anywhere.herokuapp.com/corsdemo and request temporary access in order to use CORS Anywhere.\n    const searchEndpoint = '/businesses/search';\n    const queryParams = `?location=${location}&term=${term}&sort_by=${sortBy}&limit=18`;\n    const urlToFetch =  corsOverride + yelpBaseUrl + searchEndpoint + queryParams;\n    return fetch(urlToFetch,{\n        headers:{\n            Authorization: `Bearer ${apiKey}`\n        }\n    }).then(response=>{\n        if(response.ok){\n            return response.json();\n        }\n        throw new Error('Request Failed!');\n    }, networkError=> console.log(networkError.message)\n    ).then(jsonResponse=>{\n        if(jsonResponse.businesses){\n            return jsonResponse.businesses.map((business)=>({\n                id: business.id,\n                imageSrc: business.image_url,\n                name: business.name,\n                address: business.location.address1,\n                city: business.location.city,\n                state: business.location.state,\n                zipCode: business.location.zip_code,\n                category: business.categories[0].title,\n                rating: business.rating,\n                reviewCount: business.review_count\n            }))\n        }\n    });\n}\n\nexport default search"],"mappings":"AAAA,MAAMA,MAAM,GAAG,kIAAkI;AAEjJ,MAAMC,WAAW,GAAG,yBAAyB;AAE7C,SAASC,MAAMA,CAACC,IAAI,EAAEC,QAAQ,EAAEC,MAAM,EAAC;EACnC,MAAMC,YAAY,GAAG,sCAAsC,EAAC;EAC5D,MAAMC,cAAc,GAAG,oBAAoB;EAC3C,MAAMC,WAAW,GAAI,aAAYJ,QAAS,SAAQD,IAAK,YAAWE,MAAO,WAAU;EACnF,MAAMI,UAAU,GAAIH,YAAY,GAAGL,WAAW,GAAGM,cAAc,GAAGC,WAAW;EAC7E,OAAOE,KAAK,CAACD,UAAU,EAAC;IACpBE,OAAO,EAAC;MACJC,aAAa,EAAG,UAASZ,MAAO;IACpC;EACJ,CAAC,CAAC,CAACa,IAAI,CAACC,QAAQ,IAAE;IACd,IAAGA,QAAQ,CAACC,EAAE,EAAC;MACX,OAAOD,QAAQ,CAACE,IAAI,CAAC,CAAC;IAC1B;IACA,MAAM,IAAIC,KAAK,CAAC,iBAAiB,CAAC;EACtC,CAAC,EAAEC,YAAY,IAAGC,OAAO,CAACC,GAAG,CAACF,YAAY,CAACG,OAAO,CAClD,CAAC,CAACR,IAAI,CAACS,YAAY,IAAE;IACjB,IAAGA,YAAY,CAACC,UAAU,EAAC;MACvB,OAAOD,YAAY,CAACC,UAAU,CAACC,GAAG,CAAEC,QAAQ,KAAI;QAC5CC,EAAE,EAAED,QAAQ,CAACC,EAAE;QACfC,QAAQ,EAAEF,QAAQ,CAACG,SAAS;QAC5BC,IAAI,EAAEJ,QAAQ,CAACI,IAAI;QACnBC,OAAO,EAAEL,QAAQ,CAACrB,QAAQ,CAAC2B,QAAQ;QACnCC,IAAI,EAAEP,QAAQ,CAACrB,QAAQ,CAAC4B,IAAI;QAC5BC,KAAK,EAAER,QAAQ,CAACrB,QAAQ,CAAC6B,KAAK;QAC9BC,OAAO,EAAET,QAAQ,CAACrB,QAAQ,CAAC+B,QAAQ;QACnCC,QAAQ,EAAEX,QAAQ,CAACY,UAAU,CAAC,CAAC,CAAC,CAACC,KAAK;QACtCC,MAAM,EAAEd,QAAQ,CAACc,MAAM;QACvBC,WAAW,EAAEf,QAAQ,CAACgB;MAC1B,CAAC,CAAC,CAAC;IACP;EACJ,CAAC,CAAC;AACN;AAEA,eAAevC,MAAM","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}